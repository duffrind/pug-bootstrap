//- bootstrap.jade
//- bootstrap mixins


//- Including Icon mixins
include components/icons
//- Including Alert mixins
include components/alerts
//- Including Tooltip mixins
include components/tooltips
//- Including Accordion mixins
include components/accordion



//- Dropdown
mixin dropdown(caption,items)
	.dropdown
		button.btn.btn-default.dropdown-toggle(type="button",data-toggle="dropdown")
			= caption
			| &nbsp;
			span.caret
		ul.dropdown-menu(role="menu",aria-labelledby="dropdownMenu1")
			- var args = Array.prototype.slice.call(arguments);
			for item in args[1]
				li(role="presentation")
					a(role="menuitem",tabindex="-1",href="#{item.url}")= item.text

//- Dropup
mixin dropup(caption,items)
	.dropup
		button.btn.btn-default.dropdown-toggle(type="button",data-toggle="dropdown")
			= caption
			| &nbsp;
			span.caret
		ul.dropdown-menu(role="menu",aria-labelledby="dropupMenu1")
			- var args = Array.prototype.slice.call(arguments);
			for item in args[1]
				li(role="presentation")
					a(role="menuitem",tabindex="-1",href="#{item.url}")= item.text

//- Input control with form-group wrapper
mixin input(type,id,placeholder,label)
	.form-group
		label(for="#{id}") #{label}
		input.form-control(type="#{type}",id="#{id}",placeholder="#{placeholder}")

//- Simple form input control without a form-group		
mixin input-simple(type,id,placeholder,label)
	input.form-control(type="#{type}",id="#{id}",placeholder="#{placeholder}")

//- Checkbox - Block style
mixin checkbox(text)
	.checkbox
		label
			input(type="checkbox")
			= text

//- Checkbox - Inline style			
mixin checkbox-inline(text)
	.checkbox-inline
		input(type="checkbox")
		= text

//- Radio box
mixin radio(text)
	.radio
		label
			input(type="radio")
			= text

//- Radio box - Inline style
mixin radio-inline(text)
	.radio-inline
		input(type="radio")
		= text

//- Submit button
mixin submit(text)
	.form-group
		button.btn.btn-default(type="submit")= text

//- Input group - both prepend and append options available, and block is passed
mixin input-group(prepend,append)
	.form-group
		.input-group
			unless !prepend
				.input-group-addon
					= prepend
			block
			unless !append
				.input-group-addon
					= append

//- Icon button
mixin icon-btn(icon)
	button.btn.btn-default(type="button",aria-label="#{icon}")
		+icon(icon)
		
//- Generic label
mixin label(type,text)
	span.label(class="label-#{type}")= text

//- Info label
mixin label-default(text)
	+label("default",text)
	
//- Info label
mixin label-info(text)
	+label("info",text)

//- Primary label
mixin label-primary(text)
	+label("primary",text)
	
//- Success label
mixin label-success(text)
	+label("success",text)
	
//- Warning label
mixin label-warning(text)
	+label("warning",text)
	
//- Danger label
mixin label-danger(text)
	+label("danger",text)
	
//- Badges
mixin badge(text)
	span.badge= text

//- Tabs
mixin tab-list(tabs,active)
	ul.nav.nav-tabs(role="tablist")
		each item,index in tabs
			if (index === active)
				li.active
					a(href="#tab#{item}",role="tab",data-toggle="tab")= item
			else
				li
					a(href="#tab#{item}",role="tab",data-toggle="tab")= item
	.tab-content
		block
		

//- Tab pane
mixin tab(id,active)
	if(active)
		.tab-pane.active(id="tab#{id}")
			block
	else
		.tab-pane(id="tab#{id}")
			block

//- panel
mixin panel(type,title)
	.panel(class="panel-#{type}")
		.panel-heading
			h3.panel-title= title
		.panel-body
			block

//- panel-default
mixin panel-default(title)
	+panel("default",title)
		block

//- panel-primary
mixin panel-primary(title)
	+panel("primary",title)
		block
		
//- panel-success
mixin panel-success(title)
	+panel("success",title)
		block
		
//- panel-info
mixin panel-info(title)
	+panel("info",title)
		block

//- panel-warning
mixin panel-warning(title)
	+panel("warning",title)
		block
		
//- panel-danger
mixin panel-danger(title)
	+panel("danger",title)
		block
		
//- modal
mixin modal(title,id)
	.modal.fade(id="#{id}",tabindex="-1",role="dialog",aria-labelledby="#{id}Label" aria-hidden="true")
		.modal-dialog
			.modal-content
				.modal-header
					button.close(type="button",data-dismiss="modal")
						span(aria-hidden="true") &times;
						span.sr-only Close
					h4.modal-title(id="#{id}Label")= title
				.modal-body
					block
				.modal-footer
					button.btn.btn-default(type="button",data-dismiss="modal") Close





//- carousel
mixin carousel(id,items)
	.carousel.slide(id="carousel-#{id}",data-ride="carousel")
		//- Indicators
		ol.carousel-indicators
			each item,index in items
				if(index === 0)
					li.active(data-target="#carousel-#{id}", data-slide-to="#{index}")
				else
					li(data-target="#carousel-#{id}", data-slide-to="#{index}")


		//- Wrapper for slides
		.carousel-inner(role="listbox")
			each item,index in items
				if(index === 0)
					.item.active
						img(src="#{item.image}")
						.carousel-caption
							|  #{item.caption}
				else
					.item
						img(src="#{item.image}")
						.carousel-caption
							|  #{item.caption}

		//-  Controls
		a.left.carousel-control(href="#carousel-#{id}", role="button", data-slide="prev")
			+icon("chevron-left")
			span.sr-only Previous
		a.right.carousel-control(href="#carousel-#{id}", role="button", data-slide="next")
			+icon("chevron-right")
			span.sr-only Next

//- toggle
mixin toggle(type,text)
	button.btn(class="btn-#{type}",type="button",data-toggle="button",aria-pressed="false",autocomplete="off")
		= text

//- toggle-primary
mixin toggle-primary(text)
	+toggle("primary",text)

//- toggle-default
mixin toggle-default(text)
	+toggle("default",text)


//- toggle-info
mixin toggle-info(text)
	+toggle("info",text)


//- toggle-success
mixin toggle-success(text)
	+toggle("success",text)


//- toggle-warning
mixin toggle-warning(text)
	+toggle("warning",text)


//- toggle-danger
mixin toggle-danger(text)
	+toggle("danger",text)

//- checkbox button group
mixin checkbox-buttons(type,items,active)
	.btn-group(data-toggle="buttons")
		each item,index in items
			if(index === active)
				label.btn.active(class="btn-#{type}")
					input(type="checkbox",autocomplete="off",checked) 
					|  #{item.caption}
			else
				label.btn(class="btn-#{type}")
					input(type="checkbox",autocomplete="off") 
					|  #{item.caption}

//- checkbox-buttons-primary
mixin checkbox-buttons-primary(items,active)
	+checkbox-buttons("primary",items,active)
	

//- radio button group
mixin radio-buttons(type,name,items,active)
	.btn-group(data-toggle="buttons")
		each item,index in items
			if(index === active)
				label.btn.active(class="btn-#{type}")
					input(type="radio",name="#{name}",autocomplete="off",checked) 
					|  #{item.caption}
			else
				label.btn(class="btn-#{type}")
					input(type="radio",name="#{name}",autocomplete="off") 
					|  #{item.caption}

//- checkbox-buttons-primary
mixin radio-buttons-primary(name,items,active)
	+radio-buttons("primary",name,items,active)
